"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[5656],{5656:(E,f,s)=>{s.r(f),s.d(f,{EditOfferPageModule:()=>O});var c=s(6814),o=s(95),i=s(7027),d=s(3965),e=s(6689),m=s(2883);function p(t,l){1&t&&(e.TgZ(0,"div",9),e._UZ(1,"ion-spinner",0),e.qZA())}function g(t,l){if(1&t&&e._UZ(0,"ion-datetime",21),2&t){const a=e.oxw(2);e.Q6J("showDefaultButtons",!0)("value",a.today)("min",a.today)}}function h(t,l){if(1&t&&e._UZ(0,"ion-datetime",22),2&t){const a=e.oxw(2);e.Q6J("showDefaultButtons",!0)("value",a.today)("min",a.today)}}function v(t,l){if(1&t&&(e.TgZ(0,"form",10)(1,"ion-grid")(2,"ion-row")(3,"ion-col",11),e._UZ(4,"ion-input",12),e.qZA()(),e.TgZ(5,"ion-row")(6,"ion-col",11),e._UZ(7,"ion-textarea",13),e.qZA()(),e.TgZ(8,"ion-row")(9,"ion-col",11),e._UZ(10,"ion-input",14),e.qZA()(),e.TgZ(11,"ion-row",15)(12,"ion-col",16)(13,"ion-item")(14,"ion-label"),e._uU(15,"Avilable from"),e.qZA(),e._UZ(16,"ion-datetime-button",17),e.qZA()(),e.TgZ(17,"ion-col",18)(18,"ion-item")(19,"ion-label"),e._uU(20,"Avilable to"),e.qZA(),e._UZ(21,"ion-datetime-button",19),e.qZA()()()(),e.TgZ(22,"ion-modal",20),e.YNc(23,g,1,3,"ng-template"),e.qZA(),e.TgZ(24,"ion-modal",20),e.YNc(25,h,1,3,"ng-template"),e.qZA()()),2&t){const a=e.oxw();e.Q6J("formGroup",a.form),e.xp6(22),e.Q6J("keepContentsMounted",!0),e.xp6(2),e.Q6J("keepContentsMounted",!0)}}const Z=[{path:"",component:(()=>{var t;class l{constructor(n,r,u,P,T,w){this.route=n,this._PlacesService=r,this.loadingCtrl=u,this.ionicRouter=P,this.alertCtrl=T,this.router=w,this.isLoading=!1,this.today=(new Date).toJSON().split("T")[0]}ionViewWillEnter(){}ngOnInit(){this.isLoading=!0,this.route.params.subscribe(n=>this.id=n.placeId),this._PlacesService.getPlace(this.id).subscribe(n=>{this.place=n,this.form=new o.cw({title:new o.NI(this.place.title,{updateOn:"change",validators:[o.kI.required]}),description:new o.NI(this.place.description,{updateOn:"change",validators:[o.kI.required]}),price:new o.NI(this.place.price,{updateOn:"change",validators:[o.kI.required,o.kI.min(1)]}),dateFrom:new o.NI(this.today,{updateOn:"change",validators:[o.kI.required]}),dateTo:new o.NI(this.today,{updateOn:"change",validators:[o.kI.required]})}),this.isLoading=!1})}ngOnDestroy(){this.placeSubscription&&this.placeSubscription.unsubscribe()}onEditOffer(){console.log(this.form),this.loadingCtrl.create({message:"Updating your place..."}).then(n=>{n.present(),this._PlacesService.editPlace(this.id,this.form.value.title,this.form.value.description,this.form.value.price,this.form.value.dateFrom,this.form.value.dateTo).subscribe(()=>{this.loadingCtrl.dismiss(),this.form.reset(),this.ionicRouter.navigateBack("/tabs/offers")})})}}return(t=l).\u0275fac=function(n){return new(n||t)(e.Y36(d.gz),e.Y36(m.E),e.Y36(i.HT),e.Y36(i.SH),e.Y36(i.Br),e.Y36(d.F0))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-edit-offer"]],decls:12,vars:5,consts:[["color","primary"],["slot","start"],[3,"defaultHref"],["slot","end"],[3,"disabled","click"],["name","checkmark","slot","icon-only"],[1,"ion-padding"],["class","ion-text-center",4,"ngIf"],[3,"formGroup",4,"ngIf"],[1,"ion-text-center"],[3,"formGroup"],["sizeSm","6","offsetSm","3"],["label","Title","fill","outline","labelPlacement","floating","type","text","formControlName","title"],["label","Description","fill","outline","labelPlacement","floating","formControlName","description"],["type","number","fill","outline","label","Price","labelPlacement","floating","formControlName","price"],[1,"ion-margin-top"],["sizeSm","3","offsetSm","3"],["datetime","from"],["sizeSm","3"],["datetime","to"],[3,"keepContentsMounted"],["formControlName","dateFrom","presentation","date","id","from","max","2024-12-31",3,"showDefaultButtons","value","min"],["formControlName","dateTo","presentation","date","id","to","max","2024-12-31",3,"showDefaultButtons","value","min"]],template:function(n,r){1&n&&(e.TgZ(0,"ion-header")(1,"ion-toolbar",0)(2,"ion-buttons",1),e._UZ(3,"ion-back-button",2),e.qZA(),e.TgZ(4,"ion-buttons",3)(5,"ion-button",4),e.NdJ("click",function(){return r.onEditOffer()}),e._UZ(6,"ion-icon",5),e.qZA()(),e.TgZ(7,"ion-title"),e._uU(8),e.qZA()()(),e.TgZ(9,"ion-content",6),e.YNc(10,p,2,0,"div",7),e.YNc(11,v,26,3,"form",8),e.qZA()),2&n&&(e.xp6(3),e.Q6J("defaultHref","tabs/offers/"+(null==r.place?null:r.place.id)),e.xp6(2),e.Q6J("disabled",!(null!=r.form&&r.form.valid)),e.xp6(3),e.hij("Edit ",r.isLoading?"":null==r.place?null:r.place.title,""),e.xp6(2),e.Q6J("ngIf",r.isLoading),e.xp6(1),e.Q6J("ngIf",!r.isLoading))},dependencies:[c.O5,o._Y,o.JJ,o.JL,i.oU,i.YG,i.Sm,i.wI,i.W2,i.x4,i.Mj,i.jY,i.Gu,i.gu,i.pK,i.Ie,i.Q$,i.Nd,i.PQ,i.g2,i.wd,i.sr,i.ki,i.as,i.QI,i.j9,i.cs,o.sg,o.u]}),l})()}];let b=(()=>{var t;class l{}return(t=l).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[d.Bz.forChild(Z),d.Bz]}),l})(),O=(()=>{var t;class l{}return(t=l).\u0275fac=function(n){return new(n||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[c.ez,o.u5,i.Pc,b,o.UX]}),l})()}}]);